<ion-content class="ion-padding">
  <div class="content-box">
    <ion-grid>
      <ion-row
        class="ion-justify-content-center ion-align-items-center"
        style="min-height: 100vh"
      >
        <ion-col size="12" size-sm="8" size-md="6" size-lg="4" size-xl="3">
          <form [formGroup]="newPasswordForm" (ngSubmit)="submitNewPassword()">
            <ion-row class="ion-justify-content-center">
              <ion-col size="12" class="ion-text-center">
                <div class="logo">
                  <ion-img src="assets/surya_logo_prd.png"></ion-img>
                </div>
              </ion-col>
            </ion-row>

            <ion-row>
              <ion-col size="12">
                <ion-label position="floating">nova senha</ion-label>
                <ion-input
                  type="password"
                  formControlName="newPassword"
                  required
                  (ionInput)="checkPassword($any($event.target).value || '')"
                >
                  <ion-input-password-toggle
                    slot="end"
                  ></ion-input-password-toggle>
                </ion-input>
              </ion-col>
            </ion-row>

            <ion-list class="check-list">
              <ion-item lines="none">
                <ion-icon
                  [name]="requirements.length ? 'checkmark-circle' : 'ellipse-outline'"
                  slot="start"
                  color="{{ requirements.length ? 'success' : 'medium' }}"
                ></ion-icon>
                <ion-label>Mínimo de 8 caracteres</ion-label>
              </ion-item>

              <ion-item lines="none">
                <ion-icon
                  [name]="requirements.upper ? 'checkmark-circle' : 'ellipse-outline'"
                  slot="start"
                  color="{{ requirements.upper ? 'success' : 'medium' }}"
                ></ion-icon>
                <ion-label>Letra maiúscula</ion-label>
              </ion-item>

              <ion-item lines="none">
                <ion-icon
                  [name]="requirements.lower ? 'checkmark-circle' : 'ellipse-outline'"
                  slot="start"
                  color="{{ requirements.lower ? 'success' : 'medium' }}"
                ></ion-icon>
                <ion-label>Letra minúscula</ion-label>
              </ion-item>

              <ion-item lines="none">
                <ion-icon
                  [name]="requirements.number ? 'checkmark-circle' : 'ellipse-outline'"
                  slot="start"
                  color="{{ requirements.number ? 'success' : 'medium' }}"
                ></ion-icon>
                <ion-label>Número</ion-label>
              </ion-item>

              <ion-item lines="none">
                <ion-icon
                  [name]="requirements.special ? 'checkmark-circle' : 'ellipse-outline'"
                  slot="start"
                  color="{{ requirements.special ? 'success' : 'medium' }}"
                ></ion-icon>
                <ion-label>Caractere especial (!&#64;#$...)</ion-label>
              </ion-item>
            </ion-list>

            <ion-text color="danger" *ngIf="errorMessage">
              <p class="ion-padding-top">{{ errorMessage }}</p>
            </ion-text>

            <ion-row>
              <ion-col size="12">
                <div class="button-box">
                  <ion-button
                    expand="block"
                    class="login-button"
                    type="submit"
                    [disabled]="!isPasswordValid()"
                  >
                    atualizar
                  </ion-button>
                </div>
              </ion-col>
            </ion-row>
          </form>
        </ion-col>
      </ion-row>
    </ion-grid>
  </div>
</ion-content>
